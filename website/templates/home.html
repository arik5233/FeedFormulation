{% extends "base.html" %} {% block title %}Dashboard{% endblock %}
{% block head %}
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

<script>
    function ClearFields() {
        document.getElementById("search").value = "";
    }
</script>

<style>
    .select2-container .select2-selection--single {
        height: 34px !important;
    }

    .select2-container--default .select2-selection--single {
        border: 1px solid #ccc !important;
        border-radius: 0px !important;
    }
</style>
{% endblock %}
{% block content %}
<br />
<br />
<h1 align="center">Welcome to the Veterenarian Dashboard</h1>
<br />
<h3 align="center">You are signed in.</h3>
<br />
<br />
<!-- <div class="row" style="justify-content: right;">
    <form class="col-md-4" method="post" onclick="asd()">
        <select class="select2" data-live-search="true" name="search_bar">
            <option selected disabled hidden>Search</option>
            {% for user in users %}
                <option id="{{ user.id }}" value="{{ user.id }}" name="search_dropdown"><a href="/vet/{{ user.id }}">{{ user.id }}. {{ user.first_name }} {{ user.last_name }}</a></option>
            {% endfor %}
        </select>
    </form>
</div> -->
<form method="POST">
    <div class="input-group">
        <datalist id="suggestions">
            {% for user in users %}
            <option name="search-options" id="{{ user.id }}">{{ user.id }}. {{ user.first_name }} {{ user.last_name }}
            </option>
            {% endfor %}
        </datalist>
        <input name="search" type="search" id="search-bar" class="form-control rounded" placeholder="Search"
            aria-label="Search" aria-describedby="search-addon" autoComplete="on" list="suggestions" default="" />
        <button type="submit" class="btn btn-outline-info" onclick="ClearFields()">search</button>
    </div>
</form>
<hr>
<!-- <div class="shadow p-3 mb-5 bg-body-tertiary rounded">Regular shadow</div> -->
<!-- <div class="container shadow p-3 mb-5 bg-body-tertiary rounded"> -->
<table class="table table-striped table-hover shadow-lg p-3 mb-5 bg-body-tertiary rounded">
    <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            <th scope="col">Contact Number</th>
            <th scope="col">Area</th>
            <th scope="col">Rating</th>
        </tr>
    </thead>
    {% for user in users %}
    <tbody>
        <tr>
            <td scope="row">{{ user.id }}</td>
            <td>{{ user.first_name }}</td>
            <td>{{ user.last_name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.contact_num }}</td>
            <td>{{ user.address }}</td>
            <td>{{ "%0.2f" | format(user.rating | float) }}</td>

            <td>
                <a href="/vet/{{ user.id }}">
                    <button type="button" class="btn btn-info">View Profile</button></a>
            </td>
        </tr>
    </tbody>
    {% endfor %}
</table>
<br />
{% endblock %} {% block name %} {{ name }} {% endblock %}